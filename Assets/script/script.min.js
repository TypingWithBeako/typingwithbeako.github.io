var videoUrls=["Openings_and_Endings/OP1 - Redo.mp4","Openings_and_Endings/ED1 - STYX HELIX.mp4","Openings_and_Endings/OP2 - Paradisus - Paradoxum.mp4","Openings_and_Endings/ED2 - Stay Alive.webm","Openings_and_Endings/OP3 - Realize.mp4","Openings_and_Endings/ED3 - Memento.mp4","Openings_and_Endings/OP4 - Long shot.mp4","Openings_and_Endings/ED4 - Believe in you.webm","Openings_and_Endings/OP5 - Reweave.mp4","Openings_and_Endings/ED5 - NOX LUX.mp4",],newvideoUrls=["Insert_Songs/STRAIGHT BET.mp4","Insert_Songs/Bouya no Yume yo.mp4","Insert_Songs/Memories.mp4","Insert_Songs/White White Snow.mp4","Insert_Songs/Yuki no hate ni Kimi no na wo.mp4","Insert_Songs/Wishing.mp4","Insert_Songs/Door.mp4","Insert_Songs/What you don't know.mp4","Insert_Songs/I Trust You.mp4",];let isPosterSet=!1,currentIndex=0,newcurrentIndex=0,isSwitching=!1,clickCount=0,preloadedVideos=[],disablePreloading=!1,nextVideoTimeout,videoLoopingTimeout,loopcurrentIndex=0,loopclickCount=0,enableLoopingListener=null,delay=0,isAnimating=!1,intervalId,isIntervalActive=!0,FclickCount=0,nextClickCount=0,keyB=0,currentVolume=1;function playVideo(e){nextVideo.src="";let n=e.split("/").pop();document.getElementById("videoPlayer").src=e,document.getElementById("videoPlayer").play(),console.log("Video selected:",n),currentIndex=videoUrls.indexOf(e),newcurrentIndex=newvideoUrls.indexOf(e),isPosterSet||(videoPlayer.poster="Other_Files/black.png",isPosterSet=!0),clearTimeout(nextVideoTimeout),clearTimeout(videoLoopingTimeout),isSwitching=!1,simulateClick()}const videoPlayer=document.getElementById("videoPlayer");function playNextVideo(){isSwitching||(isSwitching=!0,nextVideoTimeout=setTimeout(function(){clickCount%2==1?(newcurrentIndex=(newcurrentIndex+1)%newvideoUrls.length,videoPlayer.src=newvideoUrls[newcurrentIndex]):(currentIndex=(currentIndex+1)%videoUrls.length,videoPlayer.src=videoUrls[currentIndex]),videoPlayer.poster="Other_Files/black.png",videoPlayer.play(),isSwitching=!1},delay))}videoPlayer.addEventListener("play",function(){clearTimeout(nextVideoTimeout),isSwitching=!1,isPosterSet||(videoPlayer.poster="Other_Files/black.png",isPosterSet=!0);var e="",n="";let t="",i=videoPlayer.src.split("/").pop();if("S1%20Ending.mp4"==i)e="Season 1 Ending",n="Myth & Roid",t={src:"Icons/artworks/STYX_HELIX_Cover.webp",sizes:"1008x1000",type:"image/png"};else if("S2%20Ending.mp4"==i)e="Season 2 Ending",n="Mayu Maeshima",t={src:"Icons/artworks/Long_Shot_Cover.webp",sizes:"997x992",type:"image/png"};else if("Theater%20D.mp4"==i)e="Theater D",n="Myth & Roid",t={src:"Icons/artworks/Theater_D_Cover.jpg",sizes:"1080x1080",type:"image/png"};else if("ED1%20-%20STYX%20HELIX%20slow.mp4"==i)e="STYX HELIX (slow ver.)",n="Mayu Maeshima",t={src:"Icons/artworks/STYX_HELIX_Cover.webp",sizes:"997x992",type:"image/png"};else if(clickCount%2==1){let o=newvideoUrls[newcurrentIndex].split("/").pop(),a=o.lastIndexOf(".");e=o.slice(0,a)}else{let s=videoUrls[currentIndex].split("/").pop(),l=s.lastIndexOf(".");e=s.slice(6,l)}"STYX HELIX"==e||"Paradisus - Paradoxum"==e||"NOX LUX"==e||"STRAIGHT BET"==e?(n="Myth & Roid","STYX HELIX"==e?t={src:"Icons/artworks/STYX_HELIX_Cover.webp",sizes:"1008x1000",type:"image/png"}:"Paradisus - Paradoxum"==e?t={src:"Icons/artworks/Paradisus-Paradoxum_Cover.webp",sizes:"1000x993",type:"image/png"}:"NOX LUX"==e?t={src:"Icons/artworks/NOX_LOX_Cover.webp",sizes:"1080x1080",type:"image/png"}:"STRAIGHT BET"==e&&(t={src:"Icons/artworks/STRAIGHT_BET_Cover.jpg",sizes:"721x720",type:"image/png"})):"STYX HELIX nocut"==e?(e="STYX HELIX",n="Myth & Roid",t={src:"Icons/artworks/STYX_HELIX_Cover.webp",sizes:"997x992",type:"image/png"}):"Long shot"==e?(n="Mayu Maeshima",t={src:"Icons/artworks/Long_Shot_Cover.webp",sizes:"1400x1400",type:"image/png"}):"Redo"==e||"Realize"==e||"Reweave"==e?(n="Konomi Suzuki","Redo"==e?t={src:"Icons/artworks/Redo_Cover.webp",sizes:"997x992",type:"image/png"}:"Realize"==e?t={src:"Icons/artworks/Realize_cover.webp",sizes:"500x500",type:"image/png"}:"Reweave"==e&&(t={src:"Icons/artworks/Reweave_Cover.webp",sizes:"1600x1600",type:"image/png"})):"Stay Alive"==e||"Door"==e||"I Trust You"==e||"Bouya no Yume yo"==e?(n="Emilia (CV: Rie Takahashi)","Stay Alive"==e?t={src:"Icons/artworks/Stay_Alive_Cover.webp",sizes:"1280x1281",type:"image/png"}:"Door"==e?t={src:"Icons/artworks/Character_song_album.webp",sizes:"1280x1280",type:"image/png"}:"I Trust You"==e?t={src:"Icons/artworks/Character_song_album.webp",sizes:"1280x1280",type:"image/png"}:"Bouya no Yume yo"==e&&(t={src:"Icons/artworks/Character_song_album.webp",sizes:"1280x1280",type:"image/png"})):"Memento"==e||"Believe in you"==e||"Yuki no hate ni Kimi no na wo"==e||"White White Snow"==e?(n="nonoc","Memento"==e?t={src:"Icons/artworks/Memento_cover.webp",sizes:"500x500",type:"image/png"}:"Believe in you"==e?t={src:"Icons/artworks/Believe_in_you_cover.webp",sizes:"500x500",type:"image/png"}:"Yuki no hate ni Kimi no na wo"==e?t={src:"Icons/artworks/Memory_Snow_OVA_Music_Cover.webp",sizes:"640x640",type:"image/png"}:"White White Snow"==e&&(t={src:"Icons/artworks/Memory_Snow_OVA_Music_Cover.webp",sizes:"640x640",type:"image/png"})):"Memories"==e?(n="Azuna Riko",t={src:"Icons/artworks/Memory_Snow_OVA_Music_Cover.webp",sizes:"640x640",type:"image/png"}):"Wishing"==e?(n="Rem (CV: Inori Minase)",t={src:"Icons/artworks/Character_song_album.webp",sizes:"1280x1280",type:"image/png"}):"What you don't know"==e&&(n="Ram (CV: Rie Murakawa)",t={src:"Icons/artworks/Character_song_album.webp",sizes:"1280x1280",type:"image/png"}),navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:n,artwork:[t]}),document.title="「"+e+"」",navigator.mediaSession.setActionHandler("previoustrack",()=>{previousVideoTrack()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{nextVideoTrack()})}),videoPlayer.addEventListener("play",function(){clearTimeout(nextVideoTimeout)});const mediaQuery=window.matchMedia("(max-width: 722px)"),moveableimg=document.querySelector(".moveable_img"),textToChange=document.getElementById("text_to_change"),navbarContent=document.getElementById("oldnavbarContent"),newnavbarContent=document.getElementById("newnavbarContent"),bodytext=document.getElementById("bodytext"),songname=document.getElementById("songname"),disablePreloadingbutton=document.querySelector(".subaru"),enablePreloadingbutton=document.querySelector(".trademark"),nextButton=document.getElementById("nextButton"),backButton=document.getElementById("backButton"),S3=document.getElementById("Season3Content"),SidebarButton=document.getElementById("SidebarButton"),Trademark=document.getElementById("trademark");function handleFontSizeChange(e){e.matches?textToChange.style.fontSize="4.2vw":textToChange.style.fontSize="inherit"}moveableimg.addEventListener("click",function(){!(isAnimating||this.hasAttribute("disabled"))&&(isAnimating=!0,this.setAttribute("disabled","disabled"),clickCount++,nextClickCount=0,console.log("Image clicked!"),clickCount%2==1?(bodytext.innerHTML='Nhạc chủ đề<span class="songname--title title" title="C\xe1ch gọi kh\xe1c: Insert Song">ℹ️</span>',songname.innerHTML='Mở đầu v\xe0 Kết th\xfac<span class="bodytext--title title" title="C\xe1ch gọi kh\xe1c: Opening (OP) v\xe0 Ending (ED)">ℹ️</span>',navbarContent.style.display="none",newnavbarContent.style.display="flex",videoPlayer.src=newvideoUrls[0],newcurrentIndex=0,clearTimeout(nextVideoTimeout),isSwitching=!1,textToChange.classList.add("fade-in"),bodytext.classList.add("fade-in-bodytext"),songname.classList.add("fade-in-songname"),newnavbarContent.classList.add("slide-in"),moveableimg.classList.add("fade-in"),backButton.style.display="none",nextButton.style.display="none",S3.style.display="none",Insert_Songs.style.display="",Endings.style.display="none",Openings.style.display="none",Openings_Content.style.display="none",Endings_Content.style.display="none",Insert_Songs_Content.style.display="",SidebarButton.innerHTML="Chuyển sang OPs v\xe0 EDs"):(bodytext.innerHTML='Mở đầu v\xe0 Kết th\xfac<span class="bodytext--title title" title="C\xe1ch gọi kh\xe1c: Opening (OP) v\xe0 Ending (ED)">ℹ️</span>',songname.innerHTML='Nhạc chủ đề<span class="songname--title title" title="C\xe1ch gọi kh\xe1c: Insert Song">ℹ️</span>',navbarContent.style.display="flex",newnavbarContent.style.display="none",videoPlayer.src=videoUrls[0],videoPlayer.src=videoUrls[0],currentIndex=0,clearTimeout(nextVideoTimeout),isSwitching=!1,textToChange.classList.add("fade-in"),bodytext.classList.add("fade-in-bodytext"),songname.classList.add("fade-in-songname"),navbarContent.classList.add("slide-in"),moveableimg.classList.add("fade-in"),nextButton.style.display="inline",nextButton.classList.add("fade-in-songname"),Insert_Songs.style.display="none",Openings.style.display="",Endings.style.display="",Openings_Content.style.display="",Endings_Content.style.display="",Insert_Songs_Content.style.display="none",SidebarButton.innerHTML="Chuyển sang Nhạc chủ đề"),setTimeout(()=>{isAnimating=!1,this.removeAttribute("disabled")},5751))}),textToChange.addEventListener("animationend",()=>{textToChange.classList.remove("fade-in")}),bodytext.addEventListener("animationend",()=>{bodytext.classList.remove("fade-in-bodytext")}),songname.addEventListener("animationend",()=>{songname.classList.remove("fade-in-songname")}),navbarContent.addEventListener("animationend",()=>{navbarContent.classList.remove("slide-in")}),newnavbarContent.addEventListener("animationend",()=>{newnavbarContent.classList.remove("slide-in")}),moveable_img.addEventListener("animationend",()=>{moveable_img.classList.remove("fade-in")}),S3.addEventListener("animationend",()=>{S3.classList.remove("fade-in")}),navbarContent.addEventListener("animationend",()=>{navbarContent.classList.remove("fade-in")}),backButton.addEventListener("animationend",()=>{backButton.classList.remove("fade-in-songname")}),nextButton.addEventListener("animationend",()=>{nextButton.classList.remove("fade-in-songname")}),Fullscreen=function(){document.documentElement.requestFullscreen()},handleFontSizeChange(mediaQuery),mediaQuery.addEventListener("change",handleFontSizeChange);const root=document.documentElement;disablePreloadingbutton.addEventListener("click",function(){!disablePreloading&&(alert("Preloading disabled!"),console.log("Preloading disabled!"),disablePreloading=!0,root.style.setProperty("--subarumouse","image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAllBMVEUAAAAkJCQfHx8SEhIMDAwNDQ0JCQkKCgoODg7x8fFycnL8/Pz9/f3Dw8MJCQn6+vqNjY3////y8vLp6ene3t7u7u7S0tLr6+vDw8P09PT29vb4+Pju7u7a2trw8PClpaVbW1ubm5utra0jKDP///8/Q03j5OWtrrNaXmbx8vLIycyRk5loa3MxNkCDhox2eYDx8fK6vL8DdzWRAAAAI3RSTlMABAcIDQsSFQ+YJePhKhrUOvCojG5nYVdUyMa0iYN3My0cGZgGfOIAAAD+SURBVDjLzZLZcsIwDEWxvJJAwtZC98WKk5LQ5f9/rso4Mx4UwjN61RndI9mzmypxvStAghDTEOzXOF/KSUTIMtS4eNUwQYDK/3xFyB0hFweo+Zf3vgm42JPLGAC1w8ZT/QR8WsYgFpHht/cDsult2ZLa5kcfq2qRFgJGaEMSQ0XbGJMk3D1JJOS4/hTMkiRSv6vx4zyEJMpB4tQGRHxWwC5BEqe+3/3iw8shMzoCI4kOy1VRWKOkGF+ipfSQvxfGaZmWSBKPJFHjyjqdHp5LVLgpXDzjGHAHbGiA0anNMrIccWsVTPRpxNt2Z5k9+xSGbccAkJJ/Fo70NbvB+gfwVhoJL6w+jwAAAABJRU5ErkJggg==) 1x, url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAvVBMVEUAAAAdHR0TExMSEhIODg4KCgoHBwcGBgYHBwcJCQkMDAwGBgb+/v78/PwGBgYGBgbBwcH39/dra2vq6urExMT19fXu7u74+Pj09PTk5OTs7OzQ0NDm5ub+/v75+fn7+/vo6Oji4uLv7+/X19e1tbWysrKIiIjX19fa2trg4ODU1NRSUlKEhIS1tbW8vLwjKDP////j5OU/Q012eICtrrNaXmbx8fKfoaaRlJkxNkDIyczW19loa3ODhoxNUFlr0DWwAAAAL3RSTlMABgoIDQ8XEhUUERnx4yAbKsYnjFOmm7SXfWhiWeHU0p+Rd3JaRT1zS0k7Mh8YF+5vndUAAAIwSURBVFjD7ZbbUttAEERhtaurLcl2HDCXBJJA7tFYiMQBkv//rPRIU0FClFcrqige3O/d6jmz4/LeTju9UO1DT3F7P7573tgQ+PMZ0emRUsgY4/fyU2JNT5RCD/fvqyXcPwk6yDVP4lpAvyW6KzfEWuaug6AAB1wXRVkR6zDXLhEooMwh0aaAmojpO6cETBAfE90Uta7XdcSR5kGGB8xh+l00umoiTga34AD/TQ2hE3EgKIYFvCb6VfxXZyGDIIYCQdRaiFL2EvvKRAJB1F0IWtgqmKALobsQKwpACB5AeGQhW5+ijsNXRLf3zt5CkOAEobeQz0iwzDDDPRWiPs2JRoDLS+hG4NK/YJ1bZ2hB6OuW6JOyQpg8CqG8+1MxyG+DIFw9fAkVytdaxNshKEBYAEJ/hbUmq0hvbyAQ1u3uN413dvbxIgkDDQZOEP6u2X3+IU3TDH6jPEuADhKG0N4cnX2FO0v8KDCYYM92Dm0I5Rqfx9fhDtluPWpAiNsQKvgv0/rjMezit0FIAKFs+KP/cZr5mB323jXbIWCAJfyR2K1+OWl/RVRJgekl/LHuuC0U5SVIgfMswep4d0PlYQaBwAXm6K+76OwQ5Bx4he8TH/3Z7pCgTbjiH/cNCmR4u/369kVe1H8TuEBklHOApw1+llizJIydCzBGE4SLKU0Wc/hrgK4VOMGf4/W7+4WCMnEU4HgEgHMAYzBGaz3OjwBMwZL+4zpA/PzHi9077fRs+gdaMIOfVRGM4AAAAABJRU5ErkJggg==) 2x) 8 8, default"),Trademark.style.cursor="var(--pointermouse)",disablePreloading&&enablePreloadingbutton.addEventListener("click",function(){alert("Preloading enabled!"),console.log("Preloading enabled!"),disablePreloading=!1,root.style.setProperty("--subarumouse","image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAmVBMVEUAAAAbGxsZGRkTExMICAgJCQkPDw8QEBB1YfIICAh0X/BwXeltWuFZSrdyXuxpV9xnVdZiU8tvXehyX+1wXehuXOZfT8VdUcE0LWxyX+1zX+1lU8xmU81hUchVSbJYTLdSR6P///91YfOGdfX39f6pnPfLxPvu6/3Y0/zCuvq6sPmxpviXiPaPfvV+a/R9a/TDuvqhkvegkvdrWLcYAAAAIXRSTlMABQcLEBQNCfEX45aKVcaOfye4lId2Tykk1LRycWFCQBntRKz0AAABCUlEQVQ4y83S11LDMBAF0KhLNm6k0tmVbCchBfj/j8MaGHmIZHhjuLNve7xWm/2vkF/azXze0Ok+Xesz6vX0FJVj359zNSlYfnJwyDibEIStcAs73HCmKEkBucFX2KLWt1ovWGwIE1kLPbatr3zZREKJmzdwCOALMXsmEbg+AnyBvsclJRGwAKFwwcjFGp7wHcbglfwOqCyt+xFw/QIAnQUA23nAaQrs0X+9T04oT26c4LCW9OIkH/VxXESHq2gX4h4PAdhMBBD+Ye6w/Wy7Fh84jc6amwpt58DtLFZCRoAwbooMfcrCcJW4ccWFKeqqLoxIvxtC2UCMb/ubSomBSCnDm0qjIbM/zgdM/h9ZMvytJwAAAABJRU5ErkJggg==) 1x, url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAsVBMVEUAAAAlJSUVFRUODg4KCgoICAgGBgYHBwcJCQkHBwd0YPIHBwcGBgYLCwtjU810X+9zX+9kU8xRQp5vXOdEOox0YPBzX+9wXelvXOZnVtdQRKc0LWpxXupyX+1rWd5tXORhUclWR7JkVMxORKJwXedwXupqWdtYSbZiVcv///91YfOGdfXu6/26sPn39f6onPfd1/x+a/TUzvuxpvipnffDuvqXiPbl4f3LxPuhkveypviacpDcAAAAKXRSTlMABQkMDxMWEBIY8RseFXLj00wZhzjiw5aof0Ylx8SeZmFXOTG4tmpXJ53eMHQAAAJ8SURBVFjD7ZfXdtswEEQTopAARXVbzXZc0jSUZFWX/P+HZQkgKocyQDMvOUnmAUcvczG7WEjQh//6a/XxN+1W9e0H1fVH3e/3UWQItfzdngb0oBvVIJjt2zBq1yGQPxoAyHMAPUaE9wdgGphPp3NAd+sQ2D2QT0k50GHROwlFgAcH2ACDmJXaEAZMNDAjwBq4FpwIVpUBXHwBdgRYAFomRCBZRlXACNi6JvSliBkrMfyAbOya8Aq0NK6/di41Lj85RhjAxASA7eKxeswhwiWolu3iDifqcGYJoQSJvALW9hgeF7PHX6u2hQQIBjAEXgjwbIIs3EoKTbdLEMseMCfAzLbCrU6dIoMfwLMRsHHWw+oKuWRBQJw1gW0J4ArR3EugDhHgFni1pvKKOBDBJXgyo5gfrw4gOPMmIMCDdoCyAGQ88gN4cgHks7cBMaNCfYAOTMPeAkhvE4pTHJozCAB8LWgDy6nVHPP9h+qAi0MFAPYfTgDeuxQAqMSfgAtTQv0EPBkAT2cBdpSDPUg6cBHKTVwC7cxMovc2fwZWz9Nz2gBDEfsnkXExaRHh7CjlwC2NsjcB1aD6rfPD/AJcqIQHb6NQfX2OMMuBpu1h6Fs1HRtC2d9S/ttMADMKMr2DJZz60d+PkTcCFyptAljt9vbFfAWgqdxlrkpAvl0uaPP1j8Kum6m0AQIA00iZ0lmcqD1OpeCRAYQJnAiN5hFCjxqF3waoREikShvfbq40mds3d41UycT5qxJEgXAiu4iN3wHChIjHSSaVUmlKixTF9tZfmcAoRSJEJoRIaHdW/m0PI4hhxDyvC++j+0h1nr1OUf3HPzFqmf+ov0//hn4CGZ+XfMz98P8AAAAASUVORK5CYII=) 2x) 10 6, pointer"),Trademark.style.cursor="var(--normalmouse)"},{once:!0}))});const nextVideo=document.createElement("video");function disableFocus(e){e.addEventListener("mousedown",function(e){e.preventDefault()})}function ResetArray(){preloadedVideos=[]}function cleanVideoSrc(e){let n=e.lastIndexOf("/")-20,t=e.substring(n);return t.replace(/%20/g," ")}videoPlayer.addEventListener("timeupdate",function(){let e=videoPlayer.currentTime,n=videoPlayer.duration;if(n-e<=5&&!disablePreloading){if(clickCount%2==1){let t=(newcurrentIndex+1)%newvideoUrls.length;preloadedVideos.includes(newvideoUrls[t])||(nextVideo.src=newvideoUrls[t],nextVideo.preload="auto",preloadedVideos.push(newvideoUrls[t]),console.log("Next new video preloaded:",newvideoUrls[t]))}else{let i=(currentIndex+1)%videoUrls.length;preloadedVideos.includes(videoUrls[i])||(nextVideo.src=videoUrls[i],nextVideo.preload="auto",preloadedVideos.push(videoUrls[i]),console.log("Next video preloaded:",videoUrls[i]))}}}),disableFocus(videoPlayer),videoPlayer.addEventListener("ended",ResetArray),enableLoopingListener=function e(){clearTimeout(nextVideoTimeout),videoLoopingTimeout=setTimeout(()=>{videoPlayer.play(),isSwitching=!1},delay)};const loopVideo=document.querySelector("#loop"),loopText=document.querySelector(".looptext");function shuffleArray(e){for(let n=e.length-1;n>0;n--){let t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}return e}loopVideo.addEventListener("click",function(){if(++loopclickCount%2==1){loopText.innerHTML="Tắt lặp video",videoPlayer.removeEventListener("ended",ResetArray),videoPlayer.addEventListener("ended",enableLoopingListener);let e=cleanVideoSrc(videoPlayer.src);if(videoUrls.includes(e)||newvideoUrls.includes(e)){if(clickCount%2==1){let n=newvideoUrls[newcurrentIndex].split("/").pop();console.log("Video looping enabled for:",n),alert("Bật t\xednh năng lặp cho: "+n)}else{let t=videoUrls[currentIndex].split("/").pop(),i=t.lastIndexOf("."),o=t.slice(0,i);console.log("Video looping enabled for:",t),alert("Bật t\xednh năng lặp cho: "+o)}}else{let a=e.split("/").pop(),s=a.lastIndexOf("."),l=a.slice(0,s);console.log("Video looping enabled for:",a),alert("Bật t\xednh năng lặp cho: "+l)}}else{loopText.innerHTML="Bật lặp video",videoPlayer.removeEventListener("ended",enableLoopingListener),videoPlayer.addEventListener("ended",ResetArray);let d=cleanVideoSrc(videoPlayer.src);if(videoUrls.includes(d)||newvideoUrls.includes(d)){if(clickCount%2==1){let r=newvideoUrls[newcurrentIndex].split("/").pop();console.log("Video looping disabled for:",r),alert("Tắt t\xednh năng lặp cho: "+r)}else{let c=videoUrls[currentIndex].split("/").pop(),y=c.lastIndexOf("."),g=c.slice(0,y);console.log("Video looping disabled for:",g),alert("Tắt t\xednh năng lặp cho: "+g)}}else{let u=d.split("/").pop(),p=u.lastIndexOf("."),v=u.slice(0,p);console.log("Video looping disabled for:",v),alert("Tắt t\xednh năng lặp cho: "+v)}}TheaterModeFlag&&setTimeout(Fullscreen,0)});const shuffleButton=document.getElementById("randomize");function updateDelay(e){delay=e}shuffleButton.addEventListener("click",function(){clickCount%2==1?(playVideo((newvideoUrls=shuffleArray(newvideoUrls))[0]),preloadedVideos=[]):(playVideo((videoUrls=shuffleArray(videoUrls))[0]),preloadedVideos=[]),alert("Video đ\xe3 được x\xe1o (v\xe0o console log để biết th\xeam)"),TheaterModeFlag&&setTimeout(Fullscreen,0),clickCount%2==1?console.log("Shuffled videos to:",newvideoUrls):console.log("Shuffled videos to:",videoUrls)}),document.getElementById("Delay").addEventListener("click",function(){let e=parseInt(prompt("Nhập độ trễ mới bằng mili gi\xe2y: (Độ trễ hiện tại: "+delay+"ms)"));if(isNaN(e)||e<0){alert("Độ trễ kh\xf4ng đ\xfang. Vui l\xf2ng nhập lại độ trễ.");return}if(e>1e4){alert("Đ\xe2y kh\xf4ng phải l\xe0 nơi để bạn đi ngủ :V");return}updateDelay(e),console.log("Độ trễ được cập nhật th\xe0nh: ",e,"mili gi\xe2y"),TheaterModeFlag&&setTimeout(Fullscreen,0)});const checkOrientation=()=>{window.matchMedia("(max-width: 768px) and (orientation: landscape)").matches?(body.addEventListener("click",Fullscreen(),{once:!0}),body.removeEventListener("click",Fullscreen(),{once:!0}),setTimeout(function(){videoPlayer.style.width="auto",videoPlayer.style.height="100vh",videoPlayer.style.margin="0 auto"},700)):window.matchMedia("(max-width: 768px) and (orientation: portrait").matches?(videoPlayer.style.height="auto",videoPlayer.style.marginTop="6vw"):TheaterModeFlag||(videoPlayer.style.height="46.855vh",videoPlayer.style.marginTop="2vh")};function nextVideoTrack(){if(clickCount%2==1){let e=(newcurrentIndex+1)%newvideoUrls.length;playVideo(newvideoUrls[e])}else{let n=(currentIndex+1)%videoUrls.length;playVideo(videoUrls[n])}}function previousVideoTrack(){if(clickCount%2==1)newcurrentIndex<0||(newcurrentIndex>0?prevnewIndex=newcurrentIndex-1:0==newcurrentIndex&&(prevnewIndex=newvideoUrls.length-1),playVideo(newvideoUrls[prevnewIndex]));else{if(currentIndex<0)return;currentIndex>0?prevIndex=currentIndex-1:0==currentIndex&&(prevIndex=videoUrls.length-1),playVideo(videoUrls[prevIndex])}}window.addEventListener("resize",checkOrientation),document.addEventListener("keydown",function(e){if("Space"===e.code&&(videoPlayer.paused?videoPlayer.play():videoPlayer.pause()),"ArrowRight"===e.code&&nextVideoTrack(),"ArrowLeft"===e.code&&previousVideoTrack(),("Numpad1"===e.code||"Digit1"===e.code)&&(clickCount%2==1?playVideo(newvideoUrls[0]):playVideo(videoUrls[0])),("Numpad2"===e.code||"Digit2"===e.code)&&(clickCount%2==1?playVideo(newvideoUrls[1]):playVideo(videoUrls[1])),("Numpad3"===e.code||"Digit3"===e.code)&&(clickCount%2==1?playVideo(newvideoUrls[2]):playVideo(videoUrls[2])),("Numpad4"===e.code||"Digit4"===e.code)&&(clickCount%2==1?playVideo(newvideoUrls[3]):playVideo(videoUrls[3])),("Numpad5"===e.code||"Digit5"===e.code)&&(clickCount%2==1?playVideo(newvideoUrls[4]):playVideo(videoUrls[4])),("Numpad6"===e.code||"Digit6"===e.code)&&(clickCount%2==1?playVideo(newvideoUrls[5]):playVideo(videoUrls[5])),("Numpad7"===e.code||"Digit7"===e.code)&&(clickCount%2==1?playVideo(newvideoUrls[6]):playVideo(videoUrls[6])),("Numpad8"===e.code||"Digit8"===e.code)&&(clickCount%2==0?playVideo(videoUrls[7]):playVideo(newvideoUrls[7])),("Numpad9"===e.code||"Digit9"===e.code)&&(clickCount%2==0?playVideo(videoUrls[8]):playVideo(newvideoUrls[8])),("Numpad0"===e.code||"Digit0"===e.code)&&clickCount%2==0&&playVideo(videoUrls[9]),"Tab"===e.code&&(e.preventDefault(),moveableimg.click(),TheaterModeFlag&&(newnavbarContent.style.display="none",navbarContent.style.display="none")),"KeyQ"===e.code&&shuffleButton.click(),"KeyW"===e.code&&loopVideo.click(),"KeyE"===e.code&&document.getElementById("Delay").click(),"KeyR"===e.code&&togglePictureInPicture(),"KeyF"===e.code&&(document.fullscreenElement&&document.fullscreenElement===videoPlayer||document.webkitFullscreenElement&&document.webkitFullscreenElement===videoPlayer||document.msFullscreenElement&&document.msFullscreenElement===videoPlayer?closeFullscreen():openFullscreen()),"KeyT"===e.code&&TheaterMode.click(),"KeyD"===e.code&&playVideo("Insert_Songs/Theater D.mp4"),"KeyO"===e.code&&playVideo("Openings_and_Endings/S1 Ending.mp4"),"KeyP"===e.code&&playVideo("Openings_and_Endings/S2 Ending.mp4"),"KeyS"===e.code&&playVideo("Openings_and_Endings/ED1 - STYX HELIX slow.mp4"),"Escape"===e.code&&TheaterModeFlag&&TheaterMode.click(),"ArrowUp"===e.code){if(currentVolume+.1>1)return;videoPlayer.volume=currentVolume+.1,currentVolume=videoPlayer.volume}if("ArrowDown"===e.code){if(currentVolume-.1<0)return;videoPlayer.volume=currentVolume-.1,currentVolume=videoPlayer.volume}});let isAnimatingbutton=!1;function simulateClick(){let e=document.elementFromPoint(window.innerWidth-10,window.innerHeight-100);e&&e.click()}async function togglePictureInPicture(){if(document.pictureInPictureElement)await document.exitPictureInPicture();else try{await videoPlayer.requestPictureInPicture()}catch(e){console.error("Error entering Picture-in-Picture mode:",e)}}function openFullscreen(){videoPlayer.requestFullscreen?videoPlayer.requestFullscreen():videoPlayer.webkitRequestFullscreen?videoPlayer.webkitRequestFullscreen():videoPlayer.msRequestFullscreen&&videoPlayer.msRequestFullscreen()}function closeFullscreen(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}nextButton.addEventListener("click",function(){!(isAnimating||this.hasAttribute("disabled"))&&(nextClickCount++,isAnimating=!0,this.setAttribute("disabled","disabled"),backButton.disabled=!0,navbarContent.style.display="none",S3.style.display="flex",nextButton.style.display="none",backButton.style.display="inline",S3.classList.add("fade-in"),backButton.classList.add("fade-in"),setTimeout(()=>{isAnimating=!1,this.removeAttribute("disabled"),backButton.disabled=!1},2501))}),backButton.addEventListener("click",function(){!(isAnimating||this.hasAttribute("disabled"))&&(nextClickCount++,isAnimating=!0,this.setAttribute("disabled","disabled"),nextButton.disabled=!0,navbarContent.style.display="flex",S3.style.display="none",nextButton.style.display="inline",backButton.style.display="none",navbarContent.classList.add("fade-in"),nextButton.classList.add("fade-in"),setTimeout(()=>{isAnimating=!1,this.removeAttribute("disabled"),nextButton.disabled=!1},2501))});const TheaterMode=document.getElementById("Theater"),ButtonContainer=document.getElementsByClassName("button-container"),paragraph=document.getElementById("paragraph"),body=document.getElementById("body"),ReZeroCast=document.getElementById("subaru"),GitHub=document.getElementById("github");let TheaterModeFlag=!1,TheaterModeClickCount=0;const ExitTheaterModeButton=document.getElementById("ExitTheaterModeButton"),KeyboardControls=document.getElementById("KeyboardControls"),navbar=document.querySelector(".oldtopnav");function ChangeToInsertSongs(){moveableimg.click(),!0==TheaterModeFlag&&(newnavbarContent.style.display="none",navbarContent.style.display="none")}function ExitTheaterMode(){TheaterMode.click()}TheaterMode.addEventListener("click",function(){if(++TheaterModeClickCount%2==1){navbarContent.style.display="none",newnavbarContent.style.display="none",S3.style.display="none",paragraph.style.display="none",ReZeroCast.style.display="none",Trademark.style.display="none",GitHub.style.display="none",KeyboardControls.style.display="none",moveableimg.style.setProperty("display","none","important"),textToChange.style.display="none";for(let e=0;e<ButtonContainer.length;e++)ButtonContainer[e].style.display="none";videoPlayer.style.position="relative",videoPlayer.style.width="160vh",videoPlayer.style.height="90vh",videoPlayer.style.margin="5vh auto",body.style.backgroundColor="#000000",body.style.backgroundImage="none",document.documentElement.requestFullscreen(),document.pictureInPictureElement&&document.exitPictureInPicture(),TheaterModeFlag=!0,ExitTheaterModeButton.style.display="flex",navbar.style.marginTop="2vh"}else if(clickCount%2==1){newnavbarContent.style.display="flex",paragraph.style.display="block",ReZeroCast.style.display="block",Trademark.style.display="block",GitHub.style.display="block",KeyboardControls.style.display="flex",moveableimg.style.setProperty("display","inline","important"),textToChange.style.display="inline";for(let n=0;n<ButtonContainer.length;n++)ButtonContainer[n].style.display="block";body.style.backgroundImage="url(Other_Files/bg-tv.webp)",body.style.backgroundColor="#FFFFFF",videoPlayer.style.width="auto",videoPlayer.style.height="46.855vh",videoPlayer.style.margin="0 auto",videoPlayer.style.marginTop="2vh",ExitTheaterModeButton.style.display="none",TheaterModeFlag=!1,navbar.style.marginTop="3vh",closeFullscreen()}else{nextClickCount%2==1?(S3.style.display="flex",navbarContent.style.display="none"):(S3.style.display="none",navbarContent.style.display="flex"),paragraph.style.display="block",ReZeroCast.style.display="block",Trademark.style.display="block",GitHub.style.display="block",KeyboardControls.style.display="flex",moveableimg.style.setProperty("display","inline","important"),textToChange.style.display="inline";for(let t=0;t<ButtonContainer.length;t++)ButtonContainer[t].style.display="block";body.style.backgroundImage="url(Other_Files/bg-tv.webp)",body.style.backgroundColor="#FFFFFF",videoPlayer.style.width="auto",videoPlayer.style.height="46.855vh",videoPlayer.style.margin="0 auto",videoPlayer.style.marginTop="2vh",ExitTheaterModeButton.style.display="none",TheaterModeFlag=!1,navbar.style.marginTop="3vh",closeFullscreen()}}),document.addEventListener("DOMContentLoaded",function(){MicroModal.init({onShow:e=>console.info(`${e.id} is shown`),onClose:e=>console.info(`${e.id} is hidden`),openTrigger:"data-custom-open",closeTrigger:"data-custom-close",openClass:"is-open",disableScroll:!0,disableFocus:!0,awaitOpenAnimation:!0,awaitCloseAnimation:!0,debugMode:!1})});var button=document.querySelector("#KeyboardControls");button.addEventListener("click",function(){MicroModal.show("modal-1",{awaitCloseAnimation:!0})});const FULL=document.getElementById("STYX_HELIX_FULL"),FULL_sidebar=document.getElementById("STYX_HELIX_FULL_sidebar"),OG=document.getElementById("STYX_HELIX_OG"),OG_sidebar=document.getElementById("STYX_HELIX_OG_sidebar"),SeasonsEndings=document.getElementsByClassName("Endings--Seasons");function ChangeStyxHelix(){if(++keyB%2==1){videoUrls[originalIndex=videoUrls.indexOf("Openings_and_Endings/ED1 - STYX HELIX.mp4")]="Openings_and_Endings/ED1 - STYX HELIX nocut.mp4",OG.style.display="none",OG_sidebar.style.display="none",FULL.style.display="inline",FULL_sidebar.style.display="flex";for(let e=0;e<SeasonsEndings.length;e++)SeasonsEndings[e].style.display="flex";alert("Changed ED1 - STYX HELIX to full version")}else{videoUrls[originalIndex=videoUrls.indexOf("Openings_and_Endings/ED1 - STYX HELIX nocut.mp4")]="Openings_and_Endings/ED1 - STYX HELIX.mp4",OG.style.display="inline",OG_sidebar.style.display="flex",FULL.style.display="none",FULL_sidebar.style.display="none";for(let n=0;n<SeasonsEndings.length;n++)SeasonsEndings[n].style.display="none";alert("Reverted changes to ED1 - STYX HELIX")}}document.addEventListener("keydown",function(e){"KeyB"===e.code&&ChangeStyxHelix()});